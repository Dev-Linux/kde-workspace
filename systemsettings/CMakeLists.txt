
ADD_SUBDIRECTORY( categories ) 

########### next target ###############

SET(systemsettings_SRCS
   kcmodulemodel.cpp
   kcmultiwidget.cpp
   main.cpp
   mainwindow.cpp
   menuitem.cpp
   moduleiconitem.cpp
   )

kde4_add_app_icon(systemsettings_SRCS "${KDE4_ICON_INSTALL_DIR}/oxygen/*/categories/preferences-system.png")
   
KDE4_ADD_EXECUTABLE(systemsettings ${systemsettings_SRCS})

# Uses KIO for KRun and KUtils for KCModuleInfo
TARGET_LINK_LIBRARIES(systemsettings ${KDE4_KUTILS_LIBS} ${KDE4_KIO_LIBS} )

INSTALL( TARGETS systemsettings ${INSTALL_TARGETS_DEFAULT_ARGS})


########### install files ###############

install( FILES systemsettings.desktop DESTINATION ${XDG_APPS_INSTALL_DIR} )
install( FILES systemsettingsrc DESTINATION ${SYSCONF_INSTALL_DIR} )
install( FILES systemsettingsui.rc DESTINATION ${DATA_INSTALL_DIR}/systemsettings )


