<!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN" "http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node>
  <interface name="org.kde.SystemTray">

    <!-- those will be pretty enums, over dbus opaque ugly integers :/-->
    <method name="category">
      <arg type="i" direction="out"/>
    </method>

    <method name="title">
      <arg type="s" direction="out"/>
    </method>

    <method name="status">
      <arg type="i" direction="out"/>
    </method>


    <!-- main icon -->
    <!-- names are preferred over pixmaps -->
    <method name="icon">
      <arg type="s" direction="out"/>
    </method>

    <!--struct containing width, height and image data-->
    <method name="image">
      <arg type="(iiay)" direction="out"/>
      <annotation name="com.trolltech.QtDBus.QtTypeName.Out0" value="Icon"/>
    </method>


    <!-- Requesting attention icon -->
    <method name="attentionIcon">
      <arg type="s" direction="out"/>
    </method>

    <!--same definition as image-->
    <method name="attentionImage">
      <arg type="(iiay)" direction="out"/>
      <annotation name="com.trolltech.QtDBus.QtTypeName.Out0" value="Icon"/>
    </method>

    <method name="attentionMovie">
      <arg type="a(iiay)" direction="out"/>
      <annotation name="com.trolltech.QtDBus.QtTypeName.Out0" value="IconVector"/>
    </method>



    <!-- tooltip data -->
    <method name="tooltipIcon">
      <arg type="s" direction="out"/>
    </method>

    <!--same definition as image-->
    <method name="tooltipImage">
      <arg type="(iiay)" direction="out"/>
      <annotation name="com.trolltech.QtDBus.QtTypeName.Out0" value="Icon"/>
    </method>

    <method name="tooltipTitle">
      <arg type="s" direction="out"/>
    </method>

    <method name="tooltipSubTitle">
      <arg type="s" direction="out"/>
    </method>


    <!-- interaction: the systemtray wants the application to do something -->
    <method name="contextMenu">
        <!-- we're passing the coordinates of the icon, so the app knows where to put the popup window -->
        <arg name="x" type="i" direction="in"/>
        <arg name="y" type="i" direction="in"/>
    </method>

    <method name="activate">
    </method>

    <!-- this probably is too much...-->
    <method name="wheel">
      <arg name="delta" type="i" direction="in"/>
    </method>

    <!-- Signals: the client wants to change something in the status-->
    <signal name="newIcon">
    </signal>

    <signal name="newAttentionIcon">
    </signal>

    <signal name="newTooltip">
    </signal>

    <signal name="newStatus">
      <arg name="status" type="i"/>
    </signal>

  </interface>
</node>
